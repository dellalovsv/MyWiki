---
title: Samba
description: Установка и настройка Samba на Debian
published: true
date: 2022-02-08T23:11:52.519Z
tags: debian, samba
editor: markdown
dateCreated: 2022-02-08T21:24:36.713Z
---

# Установка и настройка Samba
## Установка
```bash
apt install samba -y
```
> После установки в разных системах сервис **samba** может назваться по разному, например в debian **samba**, а на raspberry pi **smbd**.
{.is-warning}
## Настройка
> Вся конфигурация находится в файле **/etc/samba/smb.conf**.
{.is-info}
### Раздел [global]
```bash
[global]
# Рабочая группа в которой компьютеры смогут подключаться к samba
workgroup = WORKGROUP

# Возможнось ограничения доступа по маске сети или ip адресу
interfaces = 192.168.1.0/24 eth0

# Либо можно указать эту опцию и перечислить маски, адреса
hosts allow = 192.168.1.2 192.168.10.0/24
```
### Создание общего ресурса
В конфигурационном файле, по умолчанию, уже присутствуют несколько настроек для общих ресурсов. Они дают вам возможность настроить совместное использование домашних папок пользователей системы и принтеров. А доступ к каталогу печати уже открыт. Измените значение параметра browseable на no.

Добавим свой.
```bash
[New Share]   # Название ресурса
comment = A new share   # Краткое описание ресурса
path = /home/newuser/share   # Путь к директории ресурса
browseable = yes   # Будет ли папка отображаться в проводнике или нужно ее подключать руками
read only = no   # Разрешает или запрещает запись в папку
guest ok = no   # Разрешает или запрещает доступ анонимным пользователям
valid users = newuser   # Если анонимные пользователи не имеют доступ к папке, то кому доступ разрешен
create mask = 0664
directory mask = 0755
force user = %USERNAME%
force group = %GROUPNAME%
inherit permissions = yes
```
#### Применяем настройки
```bash
/etc/init.d/smbd restart
```
## Пользователи
Чтобы добавить пользователя в **samba** (В процессе добавления пользователя нужно будет указать пароль):
```bash
smbpasswd -a имя_пользователя
```
> При добавление пользователя в **samba**, пользователь должен быть создан в системе.
{.is-warning}
